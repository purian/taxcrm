<% if @is_turbo_frame %>
  <%= turbo_frame_tag "modal" do %>
    <div data-controller="modal">
      <%= render "modal" %>
    </div>
  <% end %>
<% else %>
  <div class="container mx-auto p-6 bg-gray-50 min-h-screen">
    <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100">
      <%# Header Section %>
      <div class="bg-gradient-to-r from-blue-600 to-blue-800 p-6">
        <div class="flex justify-between items-center">
          <h1 class="text-3xl font-bold text-white">
            Sale Details - <%= @real_sale.sale_id %>
          </h1>
          <%= link_to dashboard_real_sales_path, 
              class: "px-4 py-2 bg-white text-blue-700 rounded-lg hover:bg-blue-50 transition duration-150 ease-in-out flex items-center gap-2" do %>
          
            <span>Back to Dashboard</span>
          <% end %>
        </div>
      </div>

      <%# Content Section %>
      <div class="p-6">
        <dl class="space-y-6">
          <% @real_sale.attributes.each do |attr_name, value| %>
            <% if value.present? %>
              <div class="bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition duration-150 ease-in-out">
                <dt class="text-sm font-semibold text-gray-600 uppercase tracking-wider mb-1">
                  <%= attr_name.titleize %>
                </dt>
                <dd class="text-base text-gray-900">
                  <% if ['created_at', 'updated_at'].include?(attr_name) %>
                    <div class="flex items-center gap-2">
                      <span class="font-medium"><%= value.strftime('%Y-%m-%d %H:%M:%S') %></span>
                      <span class="text-sm text-gray-500 bg-gray-200 px-2 py-1 rounded">
                        <%= time_ago_in_words(value) %> ago
                      </span>
                    </div>
                  <% elsif attr_name == 'next_step_date' %>
                    <div class="flex items-center gap-2">
                      <span class="font-medium"><%= value.strftime('%Y-%m-%d') %></span>
                      <span class="text-sm text-gray-500 bg-gray-200 px-2 py-1 rounded">
                        <%= distance_of_time_in_words(value, Date.current) %> 
                        <%= value > Date.current ? 'from now' : 'ago' %>
                      </span>
                    </div>
                  <% else %>
                    <span class="font-medium"><%= value %></span>
                  <% end %>
                </dd>
              </div>
            <% end %>
          <% end %>
        </dl>
      </div>
    </div>
  </div>
<% end %>